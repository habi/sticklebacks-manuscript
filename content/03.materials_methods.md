## Materials & Methods {.page_break_before}

### Sample preparation

### microtomographic imaging

- Scanned on a [Bruker SkyScan 2214](https://www.bruker.com/en/products-and-solutions/diffractometers-and-x-ray-microscopes/3d-x-ray-microscopes/skyscan-2214.html)
- Sample holder generated with [OpenSCAD](https://openscad.org/), available online at [GitHub](https://github.com/TomoGraphics/Hol3Drs/blob/master/STL/Stickleback.Multiple.stl) [@doi:10.5281/zenodo.2587555]
  - Scanning several fish toghether to efficiently use machine time
  - Full in Bruker workflow
  - Results in PNG stacks on disk

### Data analysis

- [Jupyter notebooks](https://github.com/habi/sticklebacks) [@doi:10.5281/zenodo.18257528]
  - Efficiently loading data from disk with [`dask`](https://www.dask.org/) [@dask]
  - Extract position of single fish (all scanned together), based on the MIP of the scan
  - Crop out each fish (with a buffer) and write to cropped dataset
    - Cropped datasets are saved to discrete folders for easy handling.
      In both original gray-scale plus as thresholded dataset, e.g. binarized into bone and "not bone".
      These sare saved out as [`zarr`](https://zarr.dev/) [@wiki:Zarr_(data_format)] and [`nrrd`](https://teem.sourceforge.net/nrrd/) files.
